<div class="carrito-container">
  <h2 class="carrito-titulo">Carrito de compras</h2>

  <div class="carrito-contenido" *ngIf="carrito.length > 0">
    <ul class="carrito-lista">
      <li class="carrito-item" *ngFor="let producto of carrito; let i = index">
        <div class="producto-info">
          <span class="producto-nombre">{{ producto.nombre }}</span>
          <span class="producto-precio">${{ producto.precio.toFixed(2) }}</span>
        </div>
        <button class="eliminar-button" (click)="eliminarProducto(i)">Eliminar</button>
      </li>
    </ul>

    <div class="carrito-resumen">
      <div class="carrito-total">
        <span>Total:</span>
        <span>${{ calcularTotal().toFixed(2) }}</span>
      </div>
      <button class="recibo-button" (click)="generarRecibo()">Generar Recibo</button>
    </div>
  </div>

  <p *ngIf="carrito.length === 0" class="carrito-vacio">
    <span class="carrito-vacio-icon">ðŸ›’</span>
    El carrito estÃ¡ vacÃ­o
  </p>

  <div *ngIf="reciboData.length > 0" class="recibo">
    <h3 class="recibo-titulo">Recibo</h3>
    <table class="recibo-tabla">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Precio (IVA incluido)</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let producto of reciboData">
          <td>{{ producto.id }}</td>
          <td>{{ producto.nombre }}</td>
          <td>${{ producto.precio }}</td>
        </tr>
      </tbody>
    </table>
    <p class="total">Total (IVA incluido): <strong>${{ total }}</strong></p>
  </div>

  <button class="descargar-button" (click)="descargarXML()">Descargar Recibo</button>
</div>
